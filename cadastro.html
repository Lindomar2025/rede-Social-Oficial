<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NewNex</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Cadastro de usuários</h1>
  </header>

  <main>
    
    <form method="post">
      <fieldset>
        <legend>Dados Pessoais</legend>
        <label>Nome Completo:</label>
        <input type="text" id="nome" name="nome" required><br>

        <label>E-mail:</label>
        <input type="email" id="email" name="email" required><br>

        <label>Senha:</label>
        <input type="password" id="senha" name="senha" required><br><br>
      </fieldset>

      <br>

      <fieldset>
        <legend>Cadastro do Endereço</legend><br>

        <label for="cep">CEP:</label>
        <input type="text" id="cep" name="cep" required><br>

        <label>Endereço:</label>
        <input type="text" id="endereco" name="endereco" required><br>

        <label>Número:</label>
        <input type="text" id="numero" name="numero" required maxlength="5"><br>

        <label>Bairro:</label>
        <input type="text" id="bairro" name="bairro" required><br>

        <label>Cidade:</label>
        <input type="text" id="cidade" name="cidade" required><br>

        <label>Estado:</label>
        <input type="text" id="estado" name="estado" required><br>
      </fieldset>

      <button type="submit">Cadastrar</button>
    </form>

   
  </main>

  <script>
    // Função que busca o endereço pelo CEP
    function buscaCep(cep) {
      // Remove caracteres não numéricos
      cep = cep.replace(/\D/g, "");

      if (cep.length !== 8) {
        return; // só continua se for um CEP válido
      }

      fetch("https://viacep.com.br/ws/" + cep + "/json/")
        .then(response => {
          if (!response.ok) {
            throw new Error("Erro de conexão");
          }
          return response.json();
        })
        .then(data => {
          if (data.erro) {
            alert("CEP não encontrado!");
            return;
          }
          document.getElementById("endereco").value = data.logradouro || "";
          document.getElementById("bairro").value = data.bairro || "";
          document.getElementById("cidade").value = data.localidade || "";
          document.getElementById("estado").value = data.uf || "";
        })
        .catch(error => {
          console.log("Erro ao buscar CEP:", error);
        });
    }

    // Quando o campo perder o foco (TAB), busca o CEP
    document.getElementById("cep").addEventListener("blur", function() {
      buscaCep(this.value);
    });
  </script>
  <footer>

  <div class="container">
  <div class="b1"><a href="index.html"><img src="imagens/homedesign.png" alt=""></a></div>
  <div class="b3"><a href="#"><img src="imagens/postesign.png" alt=""></a></div>
  <div class="b2"><a href="cadastro.html"><img src="imagens/cadastrodesign.png" alt=""></a></div>
  <div class="b4"></div>
  </div>

 </footer>

</body>
</html>
