<!DOCTYPE html>
<html lang="PT-">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>newnex</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>

        <h1>NewNex</h1>
    </header>
    <main>

        <H2>Cadastro de usuários</H2>
  <form method="post">
    <fieldset>
        <legend>Dados Pessoais</legend>
        <label>Nome Completo:</label>
        <input type="text" id="nome" name="nome" required><br>

        <label>E-mail:</label>
        <input type="email" id="email" name="email" required><br>

        <label>Senha:</label>
        <input type="password" id="senha" name="senha" required><br><br>
    </fieldset>
     <br>

     <fieldset>
        <legend>Cadastro do Endereço</legend><br>

         <label id='cep' onblur="buscaCep(this.value)">CEP:</label>
        <input type="text" id="cep" name="cep" required><br>

        <label >Endereço:</label>
        <input type="text" id="endereco" name="endereco" required><br>

        <label>Número:</label>
        <input type="text" id="numero" name="numero" required maxlength="5"><br>

        <label>Bairro:</label>
        <input type="text" id="bairro" name="bairro" required><br>

        <label>Cidade:</label>
        <input type="text" id="cidade" name="cidade" required><br>

        <label>Estado:</label>
        <input type="text" id="estado" name="estado" required><br>

       
    </fieldset>

    <button type="submit">Cadastrar</button>
</form>

    </main>
    <script>
        function buscaCep (cep) {
            fetch("https://viacep.com.br/ws/"+ cep +"/json/")
                    .then(response => {
                        if (!response.ok) {
                            console.log("Erro de conexão")
                        }
                        return response.json(cep)
                     })
                    .then (data => {
                        console.log(data)
                        endereco.value= data.logradouro
                        bairro.value= data.bairro
                        cidade.value= data.localidade
                        estado.value= data.uf

                    })
            .catch (error => {
                    console.log("Erro ao buscar CEP:" , error)
            })
        }
    </script>

</body>

</html>